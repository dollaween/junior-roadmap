<div align="center">

# `useEffect()`

[Главная](https://github.com/dollaween/junior-roadmap/)
|
[Карта](/roadmap/README.md)
|
[Теория](/theory/README.md)
|
[Тесты](/tests/README.md)
|
[Задачи](/tasks/README.md)

</div>

---

Хук `useEffect(fn, deps)` — это функция, которая запускается в зависимости от массива зависимостей.

---

<div align="center">

### Проблема

</div>

---


---

<div align="center">

### Когда использовать?

</div>

---

Так как `useEffect()` создан для обработки побочных эффектов (side effects), то и использовать его необходимо при работе с ними.

Побочными эффектами обладают:
- Обработчики событий.
- Таймеры (`setTimeout`, `setInterval`).
- Вызовы API/Fetch.

---

<div align="center">

### Как использовать?

</div>

---

`useEffect(fn, deps)` принимает два параметра:
- `fn` — функция, которая будет выполнена.
- `deps` — массив зависимостей:
  - Отсутствует значение — функция `fn` будет срабатывать после каждого рендера.
  - `[]` (пустой массив) — функция `fn` сработает один раз после первого рендера.
  - `[elem1, elem2]` — функция `fn` будет срабатывать каждый раз, когда элементы внутри массива будут меняться.

Эффекты выполняются после каждой операции рендеринга. Цепь исполнения выглядит так:
1. Выполняется тело компонента.
2. Выполняется рендер.
3. Выполняется `useEffect`.

`useEffect()` — не магическая функция. Она каждый рендер представляет собой абсолютно новую фукнцию.

---

<div align="center">

### Другое

</div>

---

#### Нужно ли указывать функции в виде зависимостей эффектов?
#### Как правильно загружать данные внутри useEffect?
#### Почему иногда внутри эффектов видно старое состояние или встречаются старые свойства?

---

Источники:
- [Справочник API хуков](https://ru.reactjs.org/docs/hooks-reference.html#useeffect)
- [Использование хука эффекта](https://ru.reactjs.org/docs/hooks-effect.html)
- [Полное руководство по `useEffect`](https://habr.com/ru/company/ruvds/blog/445276/)

